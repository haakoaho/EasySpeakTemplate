import{r,L as C,b as T,o as u,w as O,g as c,i as f,f as v,n as y,t as x,F as P,ak as $,k as E,v as L,x as B,T as _}from"./modules/vue-DqkxHldn.js";import{_ as D}from"./default-Cgy3V-wd.js";import{u as N,f as R}from"./slidev/context-BsFKckvb.js";import{_ as q}from"./index-DAegkFc3.js";import"./modules/shiki-N1X8uLTp.js";const j={class:"slidev-layout default"},I={key:0,class:"mt-8 flex flex-col gap-4 items-center"},M={class:"text-lg font-semibold"},z=["onClick","disabled"],F={key:1,class:"mt-8 text-xl text-red-600"},h="https://script.google.com/macros/s/AKfycbzasaenEuAMB_11pQGr23lHVE_j_VSlhhgITDDReQd2MPQ9C0QfSChmX_5ZLlHoadyu/exec",Q={__name:"slides.md__slidev_29",setup(V){const{$clicksContext:b,$frontmatter:w}=N();b.setup();const n=r([]),t=r("Loading options..."),e=r("info"),l=r(!1),d=r(null),g=r({x:0,y:0});async function k(){l.value=!0,t.value="Fetching speaker list...",e.value="info";try{const s=await(await fetch(`${h}?path=options`)).json();s.status==="success"&&s.options?.length?(n.value=s.options,t.value="Options loaded successfully.",e.value="success"):(t.value=s.message||"No speakers found.",e.value="error")}catch(a){t.value=`Error fetching data: ${a.message}`,e.value="error"}finally{l.value=!1}}async function S(a,s){const o=s.target.getBoundingClientRect();g.value={x:o.left+o.width/2,y:o.top+o.height/2},d.value=a;const m=n.value.filter(i=>i!==a);l.value=!0,t.value=`Disqualifying ${a}...`,e.value="info";try{await fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({options:m}),mode:"no-cors"}),await new Promise(i=>setTimeout(i,1200)),n.value=m,d.value=null,t.value=`Successfully disqualified ${a}. 💥`,e.value="success",setTimeout(async()=>{try{const p=await(await fetch(`${h}?path=options`)).json();p.status==="success"&&p.options?.length&&(p.options.includes(a)?(n.value=p.options,t.value="⚠️ Disqualification may have failed. Refreshed list.",e.value="error"):n.value=p.options)}catch(i){console.error("Background verification failed:",i)}},2e3)}catch(i){d.value=null,t.value=`POST request error: ${i.message}`,e.value="error"}finally{l.value=!1}}return C(k),(a,s)=>(u(),T(D,L(B(_(R)(_(w),28))),{default:O(()=>[c("div",j,[s[1]||(s[1]=c("h1",{class:"text-center"},"Timer's Report on Evaluators",-1)),f(" Status Message "),c("div",{class:y(["p-4 rounded-md mt-6",{"bg-blue-100 text-blue-800":e.value==="info","bg-green-100 text-green-800":e.value==="success","bg-red-100 text-red-800":e.value==="error"}])}," Status: "+x(t.value),3),f(" Speaker List "),n.value.length>0?(u(),v("div",I,[(u(!0),v(P,null,$(n.value,o=>(u(),v("div",{key:o,class:y(["flex items-center justify-between w-full max-w-2xl p-4 border border-gray-300 rounded-xl shadow-sm bg-white relative overflow-visible",{exploding:d.value===o}])},[c("span",M,x(o),1),c("button",{onClick:m=>S(o,m),disabled:l.value,class:y(["px-6 py-2 rounded-lg text-white font-bold transition duration-150 ease-in-out",{"bg-red-600 hover:bg-red-700":!l.value,"bg-gray-400 cursor-not-allowed":l.value}])}," 💥 Disqualify ",10,z)],2))),128))])):!l.value&&e.value==="error"?(u(),v("p",F," Could not load speaker options. Check your script URL and logs. ")):f("v-if",!0),f(" Explosion GIF Overlay "),d.value?(u(),v("div",{key:2,class:"explosion-overlay",style:E({left:g.value.x+"px",top:g.value.y+"px"})},[...s[0]||(s[0]=[c("img",{src:"https://media.giphy.com/media/X92pmIty2ZJp6/giphy.gif",alt:"Nuclear Explosion"},null,-1)])],4)):f("v-if",!0)])]),_:1},16))}},X=q(Q,[["__scopeId","data-v-f0fdefb6"]]);export{X as default};
